---
title: "Detailed Results"
format:
  html:
    code-fold: true
jupyter: python3
---

# All Test Results

```{python}
#| echo: false

from pathlib import Path
from IPython.display import Markdown, display
from vip.reporting import load_results

data = load_results(Path("results.json"))

if data.total == 0:
    display(Markdown("> **No results found.** Run: `pytest --vip-report=report/results.json`"))
else:
    categories = data.by_category()
    lines = []
    for cat, items in sorted(categories.items()):
        lines.append(f"## {cat.replace('_', ' ').title()}\n")
        lines.append("| Test | Outcome | Duration |")
        lines.append("|---|---|---|")
        for item in items:
            short = item.nodeid.split("::")[-1] if "::" in item.nodeid else item.nodeid
            duration = f"{item.duration:.2f}s"
            icon = {"passed": "PASS", "failed": "FAIL", "skipped": "SKIP"}.get(
                item.outcome, item.outcome
            )
            lines.append(f"| `{short}` | {icon} | {duration} |")
        lines.append("")

    display(Markdown("\n".join(lines)))
```
